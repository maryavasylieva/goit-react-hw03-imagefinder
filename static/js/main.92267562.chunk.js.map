{"version":3,"sources":["Components/Gallery.module.css","Components/Modal.js","Components/PhotoCard.js","Components/Gallery.js","Components/mapper.js","services/cardAPI.js","Components/SearchForm.js","Components/Button.js","App.js","index.js"],"names":["module","exports","app","searchForm","gallery","photoCard","stats","statsItem","fullscreenButton","galleryItem","buttonLoad","button","backdrop","modal","fade","Modal","handleOpen","_this","props","handleModalShow","handleClose","handleModalHide","handleCloseEscape","e","code","window","addEventListener","this","removeEventListener","_this$props","url","tags","react_default","a","createElement","className","styles","src","alt","Component","defaultProps","PhotoCard","state","openModal","setState","handleOverlayClick","current","modalOverlay","target","smallImage","largeImage","likes","views","comments","downloads","Fragment","type","onClick","Components_Modal","dafaultProps","Gallery","_ref","cards","map","card","key","id","Components_PhotoCard","mapper","arr","webformatURL","largeImageURL","el","Object","objectWithoutProperties","objectSpread","getCards","query","page","arguments","length","undefined","axios","get","concat","then","data","hits","SearchForm","category","handleSubmit","preventDefault","onSubmit","handleChange","value","placeholder","autoComplete","onChange","Button","onLoadMore","App","handleGetInfo","handleLoadMore","_this$state","toConsumableArray","_this2","scrollTo","top","document","body","scrollHeight","behavior","Components_SearchForm","Components_Gallery","Components_Button","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.92267562.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"Gallery_app__3IU_L\",\"searchForm\":\"Gallery_searchForm__3w_h0\",\"gallery\":\"Gallery_gallery__GBVVN\",\"photoCard\":\"Gallery_photoCard__1BARG\",\"stats\":\"Gallery_stats__3DhYJ\",\"statsItem\":\"Gallery_statsItem__25RBv\",\"fullscreenButton\":\"Gallery_fullscreenButton__2CW3k\",\"galleryItem\":\"Gallery_galleryItem__1fRgO\",\"buttonLoad\":\"Gallery_buttonLoad__2OS5v\",\"button\":\"Gallery_button__I_y7w\",\"backdrop\":\"Gallery_backdrop__1Tjo7\",\"modal\":\"Gallery_modal__2ICFi\",\"fade\":\"Gallery_fade__4C70n\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\n\nclass Modal extends Component {\n  static defaultProps = {\n    tags: 'Cool image',\n  };\n\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n    handleModalHide: PropTypes.func.isRequired,\n    handleModalShow: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleCloseEscape);\n  }\n\n  handleOpen = () => {\n    this.props.handleModalShow();\n  };\n\n  handleClose = () => {\n    this.props.handleModalHide();\n  };\n\n  handleCloseEscape = e => {\n    if (e.code !== 'Escape') return;\n    this.handleClose();\n  };\n\n  render() {\n    const { url, tags } = this.props;\n\n    return (\n      <div className={styles.backdrop}>\n        <div className={styles.modal}>\n          <img src={url} alt={tags} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\nimport Modal from './Modal';\n// import mapper from './mapper';\n\nclass PhotoCard extends Component {\n  static dafaultProps = {\n    tags: 'image card',\n  };\n\n  static propTypes = {\n    smallImage: PropTypes.string.isRequired,\n    largeImage: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n  };\n\n  state = {\n    openModal: false,\n  };\n\n  handleModalShow = () => {\n    this.setState({ openModal: true });\n  };\n\n  handleModalHide = () => {\n    this.setState({ openModal: false });\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.modalOverlay;\n\n    if (current && e.target !== current) return;\n\n    this.handleClose();\n  };\n\n  render() {\n    const { openModal } = this.state;\n\n    const {\n      smallImage,\n      largeImage,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = this.props;\n\n    return (\n      <>\n        <div className={styles.photoCard}>\n          <img src={smallImage} alt={tags} />\n\n          <div className={styles.stats}>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">thumb_up</i>\n              {likes}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">visibility</i>\n              {views}\n            </p>\n\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">comment</i>\n              {comments}\n            </p>\n\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">cloud_download</i>\n              {downloads}\n            </p>\n          </div>\n\n          <button\n            type=\"button\"\n            className={styles.fullscreenButton}\n            onClick={this.handleModalShow}\n          >\n            <i className=\"material-icons\">zoom_out_map</i>\n          </button>\n        </div>\n        {openModal && (\n          <Modal\n            url={largeImage}\n            tags={tags}\n            handleModalHide={this.handleModalHide}\n            handleModalShow={this.handleModalShow}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from './PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ cards }) => (\n  <ul className={styles.gallery}>\n    {cards.map(card => (\n      <li className={styles.galleryItem} key={card.id} id={card.id}>\n        <PhotoCard {...card} />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  cards: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n};\n\nexport default Gallery;\n","const mapper = arr => {\n  return arr.map(\n    ({ webformatURL: smallImage, largeImageURL: largeImage, ...el }) => ({\n      smallImage,\n      largeImage,\n      ...el,\n    }),\n  );\n};\n\nexport default mapper;\n","import axios from 'axios';\n\n/* eslint-disable-next-line */\nexport const getCards = (query, page = 1) =>\n  axios\n    .get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=12869339-9564296521435086f3a1c30fc`,\n    )\n    .then(({ data }) => data.hits);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = { category: '' };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.category);\n    this.setState({ category: '' });\n  };\n\n  handleChange = e => {\n    this.setState({ category: e.target.value });\n  };\n\n  render() {\n    const { category } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          value={category}\n          placeholder=\"Search images...\"\n          autoComplete=\"off\"\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\n\nconst Button = ({ onLoadMore }) => (\n  <div className={styles.buttonLoad}>\n    <button type=\"button\" onClick={onLoadMore} className={styles.button}>\n      Load More\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { Component } from 'react';\nimport Gallery from './Components/Gallery';\nimport mapper from './Components/mapper';\nimport { getCards } from './services/cardAPI';\n// import * as cardAPI from './services/cardAPI';\nimport SearchForm from './Components/SearchForm';\nimport Button from './Components/Button';\n\nclass App extends Component {\n  state = { cards: [], category: '', page: 2 };\n\n  componentDidMount() {\n    const { category } = this.state;\n    getCards(category).then(cards => this.setState({ cards: mapper(cards) }));\n  }\n\n  componentDidUpdate() {\n    const { cards } = this.state;\n    if (cards.length > 12) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleGetInfo = category => {\n    getCards(category).then(cards =>\n      this.setState({ cards: mapper(cards), category, page: 2 }),\n    );\n  };\n\n  handleLoadMore = () => {\n    const { category, page } = this.state;\n    getCards(category, page).then(cards =>\n      this.setState(state => ({\n        cards: [...state.cards, ...mapper(cards)],\n        page: state.page + 1,\n      })),\n    );\n  };\n\n  render() {\n    const { cards } = this.state;\n\n    return (\n      <>\n        <SearchForm onSubmit={this.handleGetInfo} />\n        {cards.length > 0 && (\n          <>\n            <Gallery cards={cards} />\n            <Button onLoadMore={this.handleLoadMore} />\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}