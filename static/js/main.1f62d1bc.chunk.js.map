{"version":3,"sources":["Components/Gallery.module.css","Components/Modal.js","Components/PhotoCard.js","Components/Gallery.js","Components/mapper.js","services/cardAPI.js","Components/SearchForm.js","Components/Button.js","App.js","index.js"],"names":["module","exports","app","searchForm","gallery","photoCard","stats","statsItem","fullscreenButton","galleryItem","buttonLoad","button","backdrop","modal","fade","Modal","modalOverlay","createRef","handleOpen","_this","props","handleModalShow","handleClose","handleModalHide","handleCloseEscape","e","code","handleOverlayClick","current","target","window","addEventListener","this","removeEventListener","_this$props","url","tags","react_default","a","createElement","className","styles","onClick","ref","src","alt","Component","defaultProps","PhotoCard","state","openModal","setState","smallImage","largeImage","likes","views","comments","downloads","Fragment","type","Components_Modal","dafaultProps","Gallery","_ref","cards","map","card","key","id","Components_PhotoCard","mapper","arr","webformatURL","largeImageURL","el","Object","objectWithoutProperties","objectSpread","getCards","query","page","arguments","length","undefined","axios","get","concat","then","data","hits","SearchForm","category","handleSubmit","preventDefault","onSubmit","handleChange","value","placeholder","autoComplete","onChange","Button","onLoadMore","App","handleGetInfo","handleLoadMore","_this$state","toConsumableArray","_this2","scrollTo","top","document","body","scrollHeight","behavior","Components_SearchForm","Components_Gallery","Components_Button","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.1f62d1bc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"Gallery_app__3IU_L\",\"searchForm\":\"Gallery_searchForm__3w_h0\",\"gallery\":\"Gallery_gallery__GBVVN\",\"photoCard\":\"Gallery_photoCard__1BARG\",\"stats\":\"Gallery_stats__3DhYJ\",\"statsItem\":\"Gallery_statsItem__25RBv\",\"fullscreenButton\":\"Gallery_fullscreenButton__2CW3k\",\"galleryItem\":\"Gallery_galleryItem__1fRgO\",\"buttonLoad\":\"Gallery_buttonLoad__2OS5v\",\"button\":\"Gallery_button__I_y7w\",\"backdrop\":\"Gallery_backdrop__1Tjo7\",\"modal\":\"Gallery_modal__2ICFi\",\"fade\":\"Gallery_fade__4C70n\"};","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\n\nclass Modal extends Component {\n  static defaultProps = {\n    tags: 'Cool image',\n  };\n\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n    handleModalHide: PropTypes.func.isRequired,\n    handleModalShow: PropTypes.func.isRequired,\n  };\n\n  modalOverlay = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleCloseEscape);\n  }\n\n  handleOpen = () => {\n    this.props.handleModalShow();\n  };\n\n  handleClose = () => {\n    this.props.handleModalHide();\n  };\n\n  handleCloseEscape = e => {\n    if (e.code !== 'Escape') return;\n    this.handleClose();\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.modalOverlay;\n\n    if (current && e.target !== current) return;\n\n    this.handleClose();\n  };\n\n  render() {\n    const { url, tags } = this.props;\n    /*eslint-disable*/\n    return (\n      <div\n        className={styles.backdrop}\n        onClick={this.handleOverlayClick}\n        ref={this.modalOverlay}\n      >\n        <div className={styles.modal}>\n          <img src={url} alt={tags} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Gallery.module.css';\nimport Modal from './Modal';\n// import mapper from './mapper';\n\nclass PhotoCard extends Component {\n  static dafaultProps = {\n    tags: 'image card',\n  };\n\n  static propTypes = {\n    smallImage: PropTypes.string.isRequired,\n    largeImage: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n  };\n\n  modalOverlay = createRef();\n\n  state = {\n    openModal: false,\n  };\n\n  handleModalShow = () => {\n    this.setState({ openModal: true });\n  };\n\n  handleModalHide = () => {\n    this.setState({ openModal: false });\n  };\n\n  render() {\n    const { openModal } = this.state;\n\n    const {\n      smallImage,\n      largeImage,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = this.props;\n\n    return (\n      <>\n        <div className={styles.photoCard}>\n          <img src={smallImage} alt={tags} />\n\n          <div className={styles.stats}>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">thumb_up</i>\n              {likes}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">visibility</i>\n              {views}\n            </p>\n\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">comment</i>\n              {comments}\n            </p>\n\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">cloud_download</i>\n              {downloads}\n            </p>\n          </div>\n\n          <button\n            type=\"button\"\n            className={styles.fullscreenButton}\n            onClick={this.handleModalShow}\n          >\n            <i className=\"material-icons\">zoom_out_map</i>\n          </button>\n        </div>\n        {openModal && (\n          <Modal\n            url={largeImage}\n            tags={tags}\n            handleModalHide={this.handleModalHide}\n            handleModalShow={this.handleModalShow}\n            onClick={this.handleOverlayClick}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from './PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ cards }) => (\n  <ul className={styles.gallery}>\n    {cards.map(card => (\n      <li className={styles.galleryItem} key={card.id} id={card.id}>\n        <PhotoCard {...card} />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  cards: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n};\n\nexport default Gallery;\n","const mapper = arr => {\n  return arr.map(\n    ({ webformatURL: smallImage, largeImageURL: largeImage, ...el }) => ({\n      smallImage,\n      largeImage,\n      ...el,\n    }),\n  );\n};\n\nexport default mapper;\n","import axios from 'axios';\n\n/* eslint-disable-next-line */\nexport const getCards = (query, page = 1) =>\n  axios\n    .get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=12869339-9564296521435086f3a1c30fc`,\n    )\n    .then(({ data }) => data.hits);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = { category: '' };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.category);\n    this.setState({ category: '' });\n  };\n\n  handleChange = e => {\n    this.setState({ category: e.target.value });\n  };\n\n  render() {\n    const { category } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          value={category}\n          placeholder=\"Search images...\"\n          autoComplete=\"off\"\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\n\nconst Button = ({ onLoadMore }) => (\n  <div className={styles.buttonLoad}>\n    <button type=\"button\" onClick={onLoadMore} className={styles.button}>\n      Load More\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { Component } from 'react';\nimport Gallery from './Components/Gallery';\nimport mapper from './Components/mapper';\nimport { getCards } from './services/cardAPI';\n// import * as cardAPI from './services/cardAPI';\nimport SearchForm from './Components/SearchForm';\nimport Button from './Components/Button';\n\nclass App extends Component {\n  state = { cards: [], category: '', page: 2 };\n\n  componentDidMount() {\n    const { category } = this.state;\n    getCards(category).then(cards => this.setState({ cards: mapper(cards) }));\n  }\n\n  componentDidUpdate() {\n    const { cards } = this.state;\n    if (cards.length > 12) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleGetInfo = category => {\n    getCards(category).then(cards =>\n      this.setState({ cards: mapper(cards), category, page: 2 }),\n    );\n  };\n\n  handleLoadMore = () => {\n    const { category, page } = this.state;\n    getCards(category, page).then(cards =>\n      this.setState(state => ({\n        cards: [...state.cards, ...mapper(cards)],\n        page: state.page + 1,\n      })),\n    );\n  };\n\n  render() {\n    const { cards } = this.state;\n\n    return (\n      <>\n        <SearchForm onSubmit={this.handleGetInfo} />\n        {cards.length > 0 && (\n          <>\n            <Gallery cards={cards} />\n            <Button onLoadMore={this.handleLoadMore} />\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}